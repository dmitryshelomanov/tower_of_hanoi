(this.webpackJsonptowers=this.webpackJsonptowers||[]).push([[0],{105:function(e,t,n){e.exports=n(258)},258:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(95),i=n.n(c),a=n(17),u=n(101),s=n(6),l=n(102),f=n(10),d=n(7),b=n(8);function p(){var e=Object(d.a)(["\n  height: 21px;\n  border: 1px solid black;\n  width: ","px;\n  background-color: ",";\n  z-index: 2;\n  opacity: ",";\n"]);return p=function(){return e},e}var v=b.a.div(p(),(function(e){return e.diskWidth}),(function(e){return e.diskColor}),(function(e){return e.isDragging?0:1}));function O(e){var t=e.id,n=e.color,r=e.width,c=e.onMove,i=e.canDrag,u=e.towerId,l=Object(a.c)({item:{id:t,type:"disk"},end:function(e,t){var n=t.getDropResult();e&&n&&c({diskId:e.id,toTower:n.id,fromTower:u})},collect:function(e){return{isDragging:e.isDragging()}},canDrag:function(){return i}}),f=Object(s.a)(l,2),d=f[0].isDragging,b=f[1];return o.a.createElement(v,{ref:b,diskColor:n,diskWidth:r,isDragging:d})}n(117);function g(){var e=Object(d.a)(["\n  display: flex;\n  margin: 15px 0;\n\n  "," {\n    margin-right: 25px;\n  }\n"]);return g=function(){return e},e}function h(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  flex-direction: column;\n  position: relative;\n  height: 204px;\n"]);return h=function(){return e},e}function j(){var e=Object(d.a)(["\n  display: block;\n  width: 200px;\n  height: 4px;\n  background-color: black;\n"]);return j=function(){return e},e}function m(){var e=Object(d.a)(["\n  display: block;\n  width: 4px;\n  height: 200px;\n  background-color: black;\n  position: absolute;\n"]);return m=function(){return e},e}var w=b.a.div(m()),k=b.a.div(j()),y=b.a.div(h()),E=b.a.div(g(),y);function D(e){e.children;var t=e.id,n=e.disks,r=void 0===n?[]:n,c=e.onMoveDisk,i=Object(a.d)({accept:"disk",drop:function(){return{id:t}},canDrop:function(e){return!(r.length>0)||r[0].id>e.id},collect:function(e){return{isOver:e.isOver()}}}),u=Object(s.a)(i,2),l=u[0],f=(l.canDrop,l.isOver,u[1]);return o.a.createElement(y,{ref:f},o.a.createElement(w,null),r.map((function(e,n){return o.a.createElement(O,{key:e.id,color:e.color,width:e.width,id:e.id,onMove:c,canDrag:0===n,towerId:t})})),o.a.createElement(k,null))}var x=n(100),I=n.n(x);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var T={width:50,color:C()},S=20;function C(){var e=function(){return Math.ceil(255*Math.random())};return I()({r:e(),g:e(),b:e()}).toString()}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return Array.from({length:e}).reduce((function(e,t,n){return n>0?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(f.a)({},n+1,{width:e[n].width+S,color:C()})):e}),{1:T})}var R=0,A=1,_=2;function B(e){var t=[],n=[e[R].slice(0),e[A].slice(0),e[_].slice(0)];function r(e,r){var o=n[e].shift();n[r].unshift(o),t.push({fromTower:e,toTower:r,diskId:o.id})}return function e(t,n,o){if(t>1){var c=function(e,t){var n=[e,t];return[R,A,_].filter((function(e){return!n.includes(e)}))[0]}(n,o);return e(t-1,n,c),r(n,o),void e(t-1,c,o)}r(n,o)}(n[R].length,R,_),t}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(){var e=Object(d.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  > &{Tower} {\n    margin-right: 15px\n  }\n\n  > p {\n    font-weight: bold;\n    margin: 10px 0;\n\n    > span {\n      font-weight: normal\n    }\n  }\n"]);return J=function(){return e},e}function L(){var e=Object(d.a)(["\n  display: flex;\n  margin: 5px;\n\n  > button:not(:last-child) {\n    margin-right: 10px;\n  }\n"]);return L=function(){return e},e}function N(){var e=Object(d.a)(["\n  margin-left: 15px;\n"]);return N=function(){return e},e}var U=b.a.select(N()),V=b.a.div(L()),z=b.a.div(J()),Y=3,$={disks:[],towers:[[],[],[]],userMoves:0};function q(e,t){return Array.from({length:e},(function(e,n){return W({id:n},t[n+1])}))}function F(e,t){return e.map((function(e,n){var r=void 0!==t.rest;return t[n]?t[n](e):r?t.rest(e):[]}))}function G(e,t){var n;switch(t.type){case"BUILD_DISKS_STATE":return W({},$,{disks:t.payload,towers:F(e.towers,Object(f.a)({},R,(function(){return t.payload})))});case"MOVE_DISK":var r=t.payload,o=r.diskId,c=r.fromTower,i=r.toTower,a=e.towers[c].find((function(e){return e.id===o}));return W({},e,{userMoves:e.userMoves+1,towers:F(e.towers,(n={},Object(f.a)(n,c,(function(e){return e.filter((function(e){return e.id!==o}))})),Object(f.a)(n,i,(function(e){return[a].concat(Object(l.a)(e))})),Object(f.a)(n,"rest",(function(e){return e})),n))});case"RESTART":return W({},$,{disks:e.disks,towers:F(e.towers,Object(f.a)({},R,(function(){return e.disks})))});default:return e}}var H=[3,4,5,6,7,8];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(a.b,{backend:u.a},o.a.createElement((function(){var e=Object(r.useState)(Y),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useReducer)(G,$),a=Object(s.a)(i,2),u=a[0],l=a[1],f=Object(r.useMemo)((function(){return M(n)}),[n]),d=Object(r.useCallback)((function(e){var t=e.diskId,n=e.fromTower,r=e.toTower;l({type:"MOVE_DISK",payload:{fromTower:n,toTower:r,diskId:t}})}),[]),b=function(e,t){var n=Object(r.useState)([]),o=Object(s.a)(n,2),c=o[0],i=o[1],a=Object(r.useState)(!0),u=Object(s.a)(a,2),l=u[0],f=u[1],d=Object(r.useState)(!1),b=Object(s.a)(d,2),p=b[0],v=b[1],O=Object(r.useRef)(),g=Object(r.useRef)(0),h=Object(r.useCallback)((function(){O.current&&(clearInterval(O.current),O.current=void 0)}),[]),j=Object(r.useCallback)((function(){f(!0),h()}),[h]),m=Object(r.useCallback)((function(){f(!1),O.current=setInterval((function(){if(g.current<c.length)return t(c[g.current]),void(g.current+=1);h(),v(!1)}),1e3)}),[h,t,c]),w=Object(r.useCallback)((function(){var t=B(e);i(t),v(!0)}),[e]),k=Object(r.useCallback)((function(){h(),v(!1),g.current=0,i([])}),[h]);return Object(r.useEffect)((function(){c.length>0&&m()}),[m,c.length]),{inProgress:p,isPause:l,pause:j,play:m,clearIntervalId:h,solve:w,restart:k}}(u.towers,d),p=b.inProgress,v=b.isPause,O=b.solve,g=b.clearIntervalId,h=b.pause,j=b.play,m=b.restart,w=Object(r.useCallback)((function(){m(),l({type:"RESTART"})}),[m]),k=Object(r.useCallback)((function(){setTimeout((function(){alert("Completed in ".concat(u.userMoves," moves"))}),100)}),[u.userMoves]),y=function(e,t,n){var o=e===t[R].length;return console.log({disksCount:e,len:t[R].length}),Object(r.useEffect)((function(){o&&n()}),[o]),o}(n,u.towers,g);return function(e,t,n){var o=e===t[_].length;Object(r.useEffect)((function(){o&&n()}),[o])}(n,u.towers,k),Object(r.useEffect)((function(){l({type:"BUILD_DISKS_STATE",payload:q(n,f)})}),[n,f]),o.a.createElement(z,null,o.a.createElement(E,null,Array.from({length:3},(function(e,t){return o.a.createElement(D,{key:t,id:t,disks:u.towers[t],onMoveDisk:d})}))),o.a.createElement("p",null,"Your numbers of move: ",o.a.createElement("span",null,u.userMoves)),o.a.createElement("p",null,"Number of disks",o.a.createElement(U,{onChange:function(e){m(),c(Number.parseInt(e.target.value))},value:n},H.map((function(e){return o.a.createElement("option",{value:e,key:e},e)})))),o.a.createElement(V,null,!p&&o.a.createElement("button",{disabled:!y,onClick:O},"solve it!"),p&&!v&&o.a.createElement("button",{onClick:h},"pause"),p&&v&&o.a.createElement("button",{onClick:j},"play"),o.a.createElement("button",{onClick:w},"restart")))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[105,1,2]]]);
//# sourceMappingURL=main.01c5b91c.chunk.js.map